# Rating Helper

Use the helper in your views to generate links that generate star ratings:

```php
echo $this->Rating->display([
	'item' => $post['id'],
	'type' => 'select',
	'stars' => 5,
	'js' => true,
]);
```

## Assets
This generated form will be compatible with [bootstrap-star-rating](https://github.com/kartik-v/bootstrap-star-rating). 
This jQuery plugin needs to be manually included. If you use bower:
```
bower install bootstrap-star-rating --save
```
And if you also use AssetCompress plugin:
```
// Add path to assets or wherever you configured bower to place the files
paths[] = WEBROOT/assets/

// in JS section
files[] = bootstrap-star-rating/js/star-rating.js

// in CSS section
files[] = bootstrap-star-rating/css/star-rating.css
```

The JS snippet generated by display() will make the stars work out of the box, if you used `'js' => true`.
But if you need to further customize, just keep it `false` and write your own JS manually.

This way you should also be able to use jQuery UI Stars or any other rating JS library code.

## AJAX support


If the URL ends with ".json" extension then the response contains a JSON object instead of page redirect.

The JSON object contains the following structure:

```json
{
	"status": "success",
	"data": {
		"message": "Result message"
	}
}
```

There is a sample JSON layout included in the ratings plugin, but views need to be implement for each rate action.

### Helper methods

* **control($options, $htmlAttributes)** Renders a star rating form.
* **display($value, $options, $htmlAttributes):** Displays pure HTML stars (non JS) for easy readonly use.
* **starForm($options, $htmlAttributes):** Displays a star form. Used by display().
* **bar($value, $total, $options):** Bar rating.
